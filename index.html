<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AM&S Farm + Farm Arise</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { background:#0b0b0b; color:#f5f5f5; font-family:'Inter', sans-serif; margin:0; padding:2rem; }
  .tabs { display:flex; justify-content:center; gap:2rem; margin-bottom:2rem; }
  .tab { cursor:pointer; padding:0.6rem 1.6rem; border-radius:0.5rem; border:1px solid #facc15; transition:0.3s; font-weight:600; color:#facc15; }
  .tab.active { background:#facc15; color:#0b0b0b; }
  .grid { display:grid; gap:1.5rem; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); }
  .card { background: rgba(15,15,20,0.9); backdrop-filter: blur(10px); border:1px solid #facc15; border-radius:1rem; padding:1.2rem; text-align:center; transition: all 0.3s; }
  .card:hover { transform: translateY(-4px) scale(1.02); border-color:#10b981; box-shadow: 0 0 20px rgba(250, 204, 21, 0.4); }
  .card img { width:100%; border-radius:0.75rem; margin-bottom:0.75rem; object-fit:cover; height:160px; }
  .card h3 { margin-bottom:0.5rem; font-weight:600; color:#facc15; }
  .price { color:#10b981; font-weight:600; margin-bottom:0.5rem; }
  .btn { display:inline-block; margin:0.25rem; padding:0.5rem 1rem; border-radius:0.5rem; border:1px solid #facc15; color:#facc15; text-decoration:none; font-size:0.875rem; transition:0.3s; }
  .btn:hover { background:#facc15; color:#0b0b0b; }
  footer { text-align:center; margin-top:3rem; font-size:0.85rem; color:#aaa; }
</style>
</head>
<body>

<h1 class="text-3xl mb-6 text-center font-bold text-[#facc15]">ðŸŒ¾ Farm Rise Portal</h1>

<div class="tabs">
  <div class="tab active" id="postsTab">Posts</div>
  <div class="tab" id="shopTab">Shop</div>
</div>

<section class="grid" id="contentGrid"></section>

<footer>&copy; <span id="year"></span> Farm Rise</footer>

<script>
document.getElementById('year').textContent = new Date().getFullYear();

let currentTab = 'posts';
const contentGrid = document.getElementById('contentGrid');
const postsTab = document.getElementById('postsTab');
const shopTab = document.getElementById('shopTab');

// Load JSON based on tab
function loadContent(tab) {
  const jsonFile = tab === 'posts' ? 'links.json' : 'shop.json';
  fetch(jsonFile)
    .then(res => res.json())
    .then(items => {
      contentGrid.innerHTML = '';
      items.forEach(item => {
        const card = document.createElement('div');
        card.className = 'card';
        if(tab === 'posts'){
          card.innerHTML = `
            ${item.img ? `<img src="${item.img}" alt="${item.title}">` : ''}
            <h3>${item.title}</h3>
            <a href="${item.url}" target="_blank" class="btn">Open Post</a>
          `;
        } else {
          const shareButtons = `
            <a href="https://wa.me/?text=${encodeURIComponent(item.url)}" target="_blank" class="btn">ðŸ’¬ WhatsApp</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(item.url)}" target="_blank" class="btn">ðŸ“˜ Facebook</a>
            <a href="#" onclick="navigator.clipboard.writeText('${item.url}'); alert('Link copied!'); return false;" class="btn">ðŸ“‹ Copy URL</a>
          `;
          card.innerHTML = `
            <img src="${item.img || 'https://via.placeholder.com/300x160?text=No+Image'}" alt="${item.title}">
            <h3>${item.title}</h3>
            <div class="price">${item.price || ''}</div>
            <a href="${item.url}" target="_blank" class="btn">Buy Now</a>
            <div class="mt-2">${shareButtons}</div>
          `;
        }
        contentGrid.appendChild(card);
      });
    })
    .catch(err => console.error('Error loading JSON:', err));
}

// Tab click handlers
postsTab.addEventListener('click', () => {
  currentTab = 'posts';
  postsTab.classList.add('active');
  shopTab.classList.remove('active');
  loadContent(currentTab);
});

shopTab.addEventListener('click', () => {
  currentTab = 'shop';
  shopTab.classList.add('active');
  postsTab.classList.remove('active');
  loadContent(currentTab);
});

// Initial load
loadContent(currentTab);
</script>

</body>
</html>
